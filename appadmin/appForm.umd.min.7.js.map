{"version":3,"sources":["webpack://appForm/./src/App/traitement/Traitement.vue?8ef3","webpack://appForm/./src/App/traitement/ListTable.vue?bace","webpack://appForm/src/App/traitement/ListTable.vue","webpack://appForm/./src/App/traitement/ListTable.vue?9651","webpack://appForm/./src/App/traitement/ListTable.vue","webpack://appForm/src/App/traitement/Traitement.vue","webpack://appForm/./src/App/traitement/Traitement.vue?9bd8","webpack://appForm/./src/App/traitement/Traitement.vue","webpack://appForm/./src/App/traitement/Traitement.vue?2011","webpack://appForm/./src/App/traitement/ListTable.vue?6fc9"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","form","name","ListeFieldsCheck","ListeFieldsDisplay","staticRenderFns","traitementFormItemsDisplay","liste_fields_display","scopedSlots","_u","key","fn","data","item","status","on","$event","voirForm","index","showResult","formTraiter","ref","model","value","callback","$$v","showModal","expression","traitementFormItems","_l","steps","i","undefined","info","title","_e","props","liste_fields_check","type","Array","default","components","typeDisplays","currentIndex","mounted","watch","computed","validSteps","forms","all","length","datas","push","kk","id","rowData","created","price","includes","field","row","lists","methods","console","log","$bvModal","component","String","required","stepsId","datasBdOrLocalStorage","$store","dispatch","then","display_field","fieldsDisplay","deleteSteps","state","allStepsDatas","r","indexOf","formDatas","$emit","splice","saveToLocal","config","resetValue","getters","selected","resetModal","handleOk","bvModalEvt","preventDefault","handleSubmit","event","demo","$nextTick"],"mappings":"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","file":"appForm.umd.min.7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-container',{staticClass:\"bv-example-row bg-light p-4\",attrs:{\"fluid\":\"lg\"}},[_c('div',[_c('h5',{staticClass:\"titre mb-3 shadow-sm p-2\"},[_vm._v(\" Traitement : \"),_c('span',{staticClass:\"form-title\"},[_vm._v(_vm._s(_vm.form.name))])])]),_c('b-row',{attrs:{\"align-h\":\"center\"}},[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('list-table',{attrs:{\"liste_fields_check\":_vm.ListeFieldsCheck,\"liste_fields_display\":_vm.ListeFieldsDisplay}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-table',{staticClass:\"traitement\",attrs:{\"items\":_vm.traitementFormItemsDisplay,\"fields\":_vm.liste_fields_display,\"outlined\":true,\"hover\":true,\"head-variant\":\"dark\",\"responsive\":\"\",\"sticky-header\":\"350px\"},scopedSlots:_vm._u([{key:\"cell(status)\",fn:function(data){return [_c('div',[_c('h5',{staticClass:\"status\"},[_vm._v(\" \"+_vm._s(data.item.status == 1 ? \"Traité\" : \"non traité\")+\" \")])])]}},{key:\"cell(action)\",fn:function(data){return [_c('b-button-group',{},[_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"outline-primary\"},on:{\"click\":function($event){return _vm.voirForm(data.index)}}},[_vm._v(\" voir \")]),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"outline-success\"},on:{\"click\":function($event){return _vm.showResult(data.item)}}},[_vm._v(\" Editer \")]),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"outline-warning\"},on:{\"click\":function($event){return _vm.formTraiter(data.item)}}},[_vm._v(\" Traiter \")])],1)]}}])}),_c('b-modal',{ref:\"modal\",staticClass:\"super-hover\",attrs:{\"id\":\"modal--closing\",\"size\":\"lg\",\"title\":'Résultat du formulaire',\"scrollable\":\"\"},model:{value:(_vm.showModal),callback:function ($$v) {_vm.showModal=$$v},expression:\"showModal\"}},[(_vm.traitementFormItems.length)?_c('b-row',{attrs:{\"align-h\":\"center\"}},_vm._l((_vm.validSteps),function(steps,i){return _c('b-col',{key:i,attrs:{\"sm\":\"12\"}},[(steps !== undefined)?_c('b-card',{staticClass:\"mb-1\",attrs:{\"no-body\":\"\"}},[_c('b-card-header',{staticClass:\"p-1\",attrs:{\"header-tag\":\"header\",\"role\":\"tab\"}},[_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"dark\",\"disabled\":\"\"}},[_vm._v(_vm._s(steps.info.title))])],1),_c('b-collapse',{attrs:{\"id\":\"accordion-option\",\"accordion\":\"my-accordion\",\"role\":\"tabpanel\",\"visible\":\"\"}},[_c('b-card-body',{staticClass:\"p-2\"},[_c('b-row',{staticClass:\"d-flex flex-wrap\"},_vm._l((steps.fields),function(item,index){return _c('b-col',{key:index,staticClass:\"m-1\",attrs:{\"cols\":\"12\"}},[_c('type-displays',{attrs:{\"fields\":item}})],1)}),1)],1)],1)],1):_vm._e()],1)}),1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\n  <div>\n    <b-table\n      :items=\"traitementFormItemsDisplay\"\n      :fields=\"liste_fields_display\"\n      :outlined=\"true\"\n      :hover=\"true\"\n      head-variant=\"dark\"\n      responsive\n      sticky-header=\"350px\"\n      class=\"traitement\"\n    >\n      <template #cell(status)=\"data\">\n        <div>\n          <h5 class=\"status\">\n            {{ data.item.status == 1 ? \"Traité\" : \"non traité\" }}\n          </h5>\n        </div>\n      </template>\n\n      <template #cell(action)=\"data\">\n        <b-button-group class=\"\">\n          <b-button\n            size=\"sm\"\n            variant=\"outline-primary\"\n            @click=\"voirForm(data.index)\"\n          >\n            voir\n          </b-button>\n          <b-button\n            size=\"sm\"\n            variant=\"outline-success\"\n            @click=\"showResult(data.item)\"\n          >\n            Editer\n          </b-button>\n\n          <b-button\n            size=\"sm\"\n            variant=\"outline-warning\"\n            @click=\"formTraiter(data.item)\"\n          >\n            Traiter\n          </b-button>\n        </b-button-group>\n      </template>\n    </b-table>\n    <b-modal\n      id=\"modal--closing\"\n      v-model=\"showModal\"\n      ref=\"modal\"\n      size=\"lg\"\n      :title=\"'Résultat du formulaire'\"\n      scrollable\n      class=\"super-hover\"\n    >\n      <b-row align-h=\"center\" v-if=\"traitementFormItems.length\">\n        <b-col sm=\"12\" v-for=\"(steps, i) in validSteps\" :key=\"i\"\n          ><b-card no-body class=\"mb-1\" v-if=\"steps !== undefined\">\n            <b-card-header header-tag=\"header\" class=\"p-1\" role=\"tab\">\n              <b-button block variant=\"dark\" disabled>{{\n                steps.info.title\n              }}</b-button>\n            </b-card-header>\n            <b-collapse\n              id=\"accordion-option\"\n              accordion=\"my-accordion\"\n              role=\"tabpanel\"\n              visible\n            >\n              <b-card-body class=\"p-2\">\n                <b-row class=\"d-flex flex-wrap\">\n                  <b-col\n                    cols=\"12\"\n                    class=\"m-1\"\n                    v-for=\"(item, index) in steps.fields\"\n                    :key=\"index\"\n                  >\n                    <type-displays :fields=\"item\"></type-displays>\n                  </b-col>\n                </b-row>\n              </b-card-body>\n            </b-collapse> </b-card\n        ></b-col>\n      </b-row>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from \"vuex\";\nimport Utilities from \"../../store/utilities\";\nimport config from \"../config/config\";\n\nexport default {\n  name: \"Listesfomes\",\n  props: {\n    liste_fields_check: {\n      type: Array,\n      default: function () {\n        return [];\n      },\n    },\n    liste_fields_display: {\n      type: Array,\n      default: function () {\n        return [];\n      },\n    },\n  },\n  components: {\n    typeDisplays: () => import(\"./affichage/typeDisplays.vue\"),\n  },\n  data() {\n    return {\n      showModal: false,\n      currentIndex: null,\n    };\n  },\n  mounted() {\n    //\n  },\n  watch: {},\n  computed: {\n    ...mapState([\"items\"]),\n    ...mapGetters([\"traitementFormItems\"]),\n    validSteps() {\n      var all = [];\n      var forms;\n      if (this.traitementFormItems.length && this.currentIndex !== null) {\n        forms = this.traitementFormItems[this.currentIndex].datas;\n        all.push(forms[0]);\n        for (let i = 0; i < forms.length; i++) {\n          const kk = Utilities.selectNextState(forms, i);\n          if (kk) {\n            i = kk;\n            all.push(forms[kk]);\n          }\n        }\n      }\n      return all;\n    },\n    traitementFormItemsDisplay() {\n      const lists = [];\n      for (const i in this.traitementFormItems) {\n        const rowData = this.traitementFormItems[i];\n        const row = {\n          id: rowData.id,\n          status: rowData.status,\n          created: rowData.created,\n          price: rowData.price,\n        };\n        for (const s in rowData.datas) {\n          const stape = rowData.datas[s];\n          for (const f in stape.fields) {\n            const field = stape.fields[f];\n            //console.log(\"field.name : \", field.name);\n            if (this.liste_fields_check.includes(field.name)) {\n              row[field.name] = field.value;\n            }\n          }\n        }\n        lists.push(row);\n      }\n      return lists;\n    },\n  },\n  methods: {\n    voirForm(id) {\n      console.log(\"id\", id);\n      this.currentIndex = id;\n      this.showModal = !this.showModal;\n    },\n    showResult(id) {\n      console.log(\"id\", id);\n    },\n    formTraiter(id) {\n      var status = \"\";\n      if (id.status == \"0\") {\n        status = \"1\";\n      } else status = \"0\";\n      this.$bvModal\n        .msgBoxConfirm(\"Confirmez-vous avoir l'action\", {\n          title: \"Alerte\",\n          size: \"sm\",\n          buttonSize: \"sm\",\n          okVariant: \"success\",\n          okTitle: \"Traiter\",\n          cancelTitle: \"Annuler\",\n          footerClass: \"p-2\",\n          hideHeaderClose: false,\n          centered: true,\n        })\n        .then((value) => {\n          if (value) {\n            console.log(\"refus : \", id);\n            config.deleteFormTraitement(id.id, status).then(() => {\n              window.location.reload();\n            });\n          }\n        });\n      /*\n        .catch((err) => {\n          console.log(\"refus : \", err);\n        });\n        /**/\n    },\n  },\n};\n</script>\n\n<!--\n //nom du fichier en pascal.\n //<template>\n - le nom des attributs en kebab-case;\n - la valeur des attributs et des variables en camelCase;\n - function en PascalCase\n //props, data\n - variable en camelCase\n //methods\n - variable en PascalCase\n-->\n<style lang=\"scss\">\n.traitement {\n  .status {\n    font-size: 0.7em;\n    text-transform: uppercase;\n    font-weight: bold;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListTable.vue?vue&type=template&id=154259d6&lang=html&\"\nimport script from \"./ListTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ListTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListTable.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <b-container class=\"bv-example-row bg-light p-4\" fluid=\"lg\">\n      <div>\n        <h5 class=\"titre mb-3 shadow-sm p-2\">\n          Traitement :\n          <span class=\"form-title\">{{ form.name }}</span>\n        </h5>\n      </div>\n      <b-row align-h=\"center\">\n        <b-col class=\"\" cols=\"12\">\n          <list-table\n            :liste_fields_check=\"ListeFieldsCheck\"\n            :liste_fields_display=\"ListeFieldsDisplay\"\n          ></list-table>\n        </b-col>\n      </b-row>\n    </b-container>\n  </div>\n</template>\n\n<script>\n//import axios from \"axios\";\nimport config from \"../config/config.js\";\n//import utilities from \"./Utilities\";\n//import NavLine from \"./NavLine.vue\";\nimport { mapState, mapGetters } from \"vuex\";\nimport ListTable from \"./ListTable.vue\";\n//import pages from \"./pages.vue\";\n//import pages from \"./pages2.vue\";\nexport default {\n  components: { ListTable },\n  props: {\n    id: {\n      type: String,\n      required: true,\n    },\n  },\n  data: () => {\n    return {};\n  },\n  watch: {\n    stepsId() {\n      this.datasBdOrLocalStorage();\n    },\n  },\n  mounted() {\n    this.$store.dispatch(\"loadTraitementDatas\", this.id).then(() => {\n      this.$store.dispatch(\"setTraitId\", this.id);\n      this.$store.dispatch(\"setFormId\", this.id);\n    });\n  },\n  computed: {\n    ...mapState([\"traitementId\"]),\n    ...mapGetters([\"traitementFormItems\", \"form\"]),\n    ListeFieldsDisplay() {\n      const fieldsDisplay = [\n        {\n          label: \"Id\",\n          key: \"id\",\n        },\n        {\n          label: \"Status du formulaire\",\n          key: \"status\",\n        },\n        {\n          label: \"Price\",\n          key: \"price\",\n        },\n        {\n          label: \"#Action\",\n          key: \"action\",\n          stickyColumn: true,\n        },\n      ];\n      for (const i in this.form.forms) {\n        const form = this.form.forms[i];\n        // console.log(\"etate : \", form.info.name, \"\\n\\n\");\n        for (const f in form.fields) {\n          const field = form.fields[f];\n          // console.log(field);\n          if (field.display_field) {\n            fieldsDisplay.push({ label: field.label, key: field.name });\n          }\n        }\n      }\n      return fieldsDisplay;\n    },\n    ListeFieldsCheck() {\n      const lists = [];\n      for (const i in this.ListeFieldsDisplay) {\n        lists.push(this.ListeFieldsDisplay[i].key);\n      }\n      return lists;\n    },\n  },\n  methods: {\n    deleteSteps(datas) {\n      var all = this.$store.state.allStepsDatas;\n      var r = all.indexOf(this.formDatas);\n      this.$emit(\"index-to-delete\", r);\n      console.log(\"de\", datas);\n      for (var i = all.length - 1; i >= 0; i--) {\n        if (i === r) {\n          all.splice(i, 1);\n          console.log(\"iiippp\");\n        }\n      }\n    },\n\n    saveToLocal() {\n      //var self = this;\n      //var datas = this.form;\n      config.prepareDatasToSave(this.form).then((val) => {\n        config.saveForm(val).then(() => {\n          //\n        });\n      });\n      /*\n      utilities.saveSteps(datas).then((reponse) => {\n        var forms = JSON.stringify(reponse[0].fields);\n        localStorage.setItem(\"allo\", JSON.stringify(forms));\n        console.log(\"savesteps: \", reponse);\n\n        axios\n          .post(\n            \"http://lesroisdelareno.kksa\" + \"/query-ajax/insert-update\",\n            reponse\n          )\n          .then(function (response) {\n            console.log(\"post response \", response);\n            self.$store.dispatch(\"setFormId\", self.id);\n          })\n          .catch(function (error) {\n            console.log(error);\n          });\n      });\n      /**/\n    },\n\n    resetValue() {\n      this.$store.getters.formDatas.selected = \"\";\n      this.$store.getters.formDatas.value = [];\n      console.log(\"prev\");\n    },\n    resetModal() {\n      //   this.formDatas.info.title = \"\";\n      //   this.titleState = null;\n      //   this.headerTitle = \"\";\n      //   this.headerState = null;\n    },\n    handleOk(bvModalEvt) {\n      // Prevent modal from closing\n      bvModalEvt.preventDefault();\n      // Trigger submit handler\n      this.handleSubmit();\n    },\n    handleSubmit(event) {\n      event.preventDefault();\n      // Exit when the form isn't valid\n      this.demo = true;\n\n      this.$nextTick(() => {\n        this.$bvModal.hide(\"modal-prevent-closing\");\n      });\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n.form-title {\n  letter-spacing: 2px;\n  margin-left: 10px;\n  font-weight: 600;\n}\n.block-button {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: space-evenly;\n  button {\n    margin: 5px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Traitement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Traitement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Traitement.vue?vue&type=template&id=0956ee7c&\"\nimport script from \"./Traitement.vue?vue&type=script&lang=js&\"\nexport * from \"./Traitement.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Traitement.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Traitement.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListTable.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}