(("undefined"!==typeof self?self:this)["webpackJsonpappForm"]=("undefined"!==typeof self?self:this)["webpackJsonpappForm"]||[]).push([[9],{"2c10":function(t,e,n){"use strict";n("d3b7"),n("e6cf"),n("a4d3"),n("e01a"),n("b0c0");var o={saveSteps:function(t){return new Promise((function(e){var n="";t.forms&&(n=JSON.stringify(t.forms));var o=[];if(""!=t){var a={table:"appformmanager_fomrs",fields:{forms:n,description:t.description,name:t.name},action:"update"};t.id&&(a.where=[{column:"id",value:t.id}]),o.push(a)}e(o)}))},field:function(){return{type:"",title:"",label:"",name:"",value:null,imgUrl:"",require:"",options:[],states:[]}},resetField:function(t){var e=this.field();for(var n in t)t[n]=e[n]}};e["a"]=o},a76e:function(t,e,n){"use strict";n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return y}));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-button",{attrs:{variant:"outline-success",size:"sm"},on:{click:t.onSubmit}},[n("span",[t._v(t._s(t.texte))]),t.running?n("b-icon",{staticClass:"ml-2",attrs:{icon:"arrow-clockwise",animation:"spin-pulse"}}):t._e()],1)],1)},a=[],r={name:"ButtonSave",props:{running:{type:Boolean,required:!0},texte:{type:String,default:"Enregistrer"}},components:{},data:function(){return{}},mounted:function(){},watch:{},computed:{},methods:{onSubmit:function(){this.$emit("ev-click")}}},i=r,s=n("2877"),c=Object(s["a"])(i,o,a,!1,null,"29246a2e",null),u=(c.exports,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:t.DeleteFile}},[n("span",[t._v(" "+t._s(t.texte)+" ")]),t.running?n("b-icon",{staticClass:"ml-2",attrs:{icon:"arrow-clockwise",animation:"spin-pulse"}}):t._e()],1)],1)}),l=[],f={name:"ButtonDelete",props:{running:{type:Boolean,required:!0},texte:{type:String,default:"Supprimer"}},components:{},data:function(){return{}},mounted:function(){},watch:{},computed:{},methods:{DeleteFile:function(){this.$emit("ev-click")}}},d=f,m=Object(s["a"])(d,u,l,!1,null,"0b82f270",null),p=(m.exports,n("c26d"),n("a9ce"),n("9a6c"),n("7973"),n("47d8"),n("bc3a")),h=n.n(p),b=h.a.create({timeout:5e3}),v={axiosInstance:b,post:function(t,e,n){return new Promise((function(o,a){b.post(t,e,n).then((function(t){o({status:!0,data:t.data,reponse:t})})).catch((function(t){a({status:!1,error:t.response,code:t.code,stack:t.stack})}))}))},get:function(t,e){return new Promise((function(n,o){b.get(t,e).then((function(t){n({status:!0,data:t.data,reponse:t})})).catch((function(t){o({status:!1,error:t.response,code:t.code,stack:t.stack})}))}))},postFile:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(a,r){n.getBase64(e).then((function(n){var i=new Headers;console.log("headers : ",i);var s=e.name.split("."),c={method:"POST",headers:i,body:JSON.stringify({upload:n.base64,filename:s[0],ext:s[1],id:o}),cache:"default"};fetch(t,c).then((function(t){t.json().then((function(t){a(t)})).catch((function(t){r(t)}))}))}))}))},getBase64:function(t){return new Promise((function(e,n){var o=new FileReader;o.readAsDataURL(t),o.onloadend=function(){var t=o.result.split(",");e({src:o.result,base64:t[1]})},o.onerror=function(t){return n(t)}}))}},w=v,g=n("5530"),k=n("8bbf"),x=n.n(k),S=n("0ae9");x.a.use(S["a"]);var T=new x.a,_=Object(g["a"])(Object(g["a"])({},w),{},{$bvToast:T.$bvToast,notification:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";this.$bvToast.toast(" ",{title:t,variant:e,solid:!0,toaster:"b-toaster-top-right"})},post:function(t,e,n){var o=this,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return new Promise((function(r,i){w.post(t,e,n).then((function(t){a&&o.notification("success"),r(t)})).catch((function(t){o.notification(o.GetErrorTitle(t),"warning"),i(t)}))}))},get:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(a,r){w.post(t,e).then((function(t){o&&n.notification("success"),a(t)})).catch((function(t){n.notification(n.GetErrorTitle(t),"warning"),r(t)}))}))},GetErrorTitle:function(t){var e;if(t.code)switch(t.code){case"ECONNABORTED":var n=this.axiosInstance.defaults.timeout/1e3+"s";e="Impossible de joindre l'hote distant, temps impartie epuis√©. ("+n+")";break;default:e="Une erreur s'est produite"}else t.error&&t.error.statusText&&(e=decodeURI(t.error.statusText));return e}}),y=_},d2d6:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-modal",{ref:"modal",attrs:{id:"add-edit-form",title:"Create your form page","hide-footer":""},on:{ok:t.handleOk}},[n("h1",[t._v("kksa8888")]),n("form",{ref:"form",on:{submit:t.handleSubmit}},[n("b-row",[n("b-col",{attrs:{cols:"8"}},[n("b-form-group",{attrs:{label:"name","label-for":"name-input"}},[n("b-form-input",{attrs:{required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),n("b-col",{attrs:{cols:"8"}},[n("b-form-group",{attrs:{label:"Description","label-for":"description-input"}},[n("b-form-textarea",{attrs:{required:""},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1)],1),n("b-row",{attrs:{"align-h":"end"}},[n("div",{staticClass:"mr-3"},[n("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"primary"}},[t._v("Ajouter")])],1)])],1)])],1)},a=[],r=n("f158"),i={name:"AddEditForm",props:{},components:{},data:function(){return{form:{forms:[],description:"",name:""}}},mounted:function(){},watch:{},computed:{},methods:{handleOk:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(t){var e=this;t.preventDefault(),r["a"].prepareDatasToSave(this.form).then((function(t){r["a"].saveForm(t).then((function(){e.$nextTick((function(){e.$bvModal.hide("add-edit-form")}))}))}))}}},s=i,c=n("2877"),u=Object(c["a"])(s,o,a,!1,null,"2a72a790",null);e["default"]=u.exports},f158:function(t,e,n){"use strict";n("caad"),n("2532");var o=n("a76e"),a=n("2c10"),r=n("104d"),i=n("8bbf"),s=n.n(i);s.a.use(r["a"]);var c=new s.a;o["b"].$bvToast=c.$bvToast,e["a"]={baseURl:window.location.host.includes("localhost")?"http://lesroisdelareno.kksa":window.location.host,saveForm:function(t){return o["b"].post(this.baseURl+"/query-ajax/insert-update",t,{})},prepareDatasToSave:function(t){return a["a"].saveSteps(t)}}}}]);
//# sourceMappingURL=appForm.umd.min.9.js.map