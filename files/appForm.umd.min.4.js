(("undefined"!==typeof self?self:this)["webpackJsonpappForm"]=("undefined"!==typeof self?self:this)["webpackJsonpappForm"]||[]).push([[4],{3734:function(t,e,s){"use strict";s("54f5")},"3db8":function(t,e,s){"use strict";s("b1ee")},"54f5":function(t,e,s){},b1ee:function(t,e,s){},ca0f:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-container",{staticClass:"bv-example-row p-5",attrs:{fluid:"lg"}},[s("div",[s("h5",{staticClass:"titre mb-3 shadow-sm p-2"},[t._v(" Gestion du formulaire: "),s("span",{staticClass:"form-title"},[t._v(t._s(t.form.name))])])]),s("b-row",{attrs:{"align-h":"center"}},[t.formDatas&&t.formDatas.info?s("b-col",{attrs:{cols:"12",lg:"10"}},[s("transition",{attrs:{name:"fade"}},[s("div",[s("nav-line",{attrs:{taille:t.id}}),s("pages",{attrs:{level:t.stepsIndex}})],1)])],1):t._e(),t.$store.state.mode?s("b-col",{attrs:{cols:"12",lg:"2"}},[s("div",{staticClass:"block-button"},[s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent-closing",modifiers:{"modal-prevent-closing":!0}}],staticClass:"shadow-sm",attrs:{variant:"light",squared:""}},[t._v(" Configuration ")]),s("b-button",{attrs:{squared:"",variant:"info"},on:{click:t.clearFormDatas}},[s("b-icon",{staticClass:"mr-2",staticStyle:{"font-size":"2.5rem"},attrs:{icon:"plus"}}),t._v(" Ajouter une etape ")],1),s("b-button",{attrs:{squared:"",variant:"dark"},on:{click:t.resetValue}},[t._v(" Reset value ")]),s("b-button",{attrs:{squared:"",variant:"success"},on:{click:t.saveToLocal}},[t._v(" Enregistrer ")]),s("b-modal",{ref:"modal",attrs:{id:"modal-prevent-closing",title:"Edition du formulaire","hide-footer":""},on:{show:t.resetModal,hidden:t.resetModal,ok:t.handleOk}},[t.formDatas&&t.formDatas.info?s("form",{ref:"form",on:{submit:t.handleSubmit,reset:t.resetModal}},[s("b-row",[s("b-col",{attrs:{cols:"8"}},[s("b-form-group",{attrs:{label:"name","label-for":"name-input"}},[s("b-form-input",{attrs:{id:"db-input",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),s("b-col",{attrs:{cols:"8"}},[s("b-form-group",{attrs:{label:"Id","label-for":"description-input"}},[s("b-form-input",{attrs:{id:"desc-input-id"},model:{value:t.form.id,callback:function(e){t.$set(t.form,"id",e)},expression:"form.id"}})],1)],1),s("b-col",{attrs:{cols:"8"}},[s("b-form-group",{attrs:{label:"Description","label-for":"description-input"}},[s("b-form-textarea",{attrs:{id:"desc-input",required:""},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1)],1),s("hr",{staticClass:"my-3"}),s("b-row",{attrs:{"align-h":"end"}},[s("div",{staticClass:"mr-3"},[s("b-button",{staticClass:"mr-2"},[t._v("export")]),s("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"primary"}},[t._v("Mise à jour")])],1)])],1):t._e()])],1)]):t._e()],1)],1),t.mode?s("b-row",{staticClass:"m-0"},[s("b-col",{attrs:{cols:"4"}},[s("b-card",{staticClass:"mt-3 text-left d-none-0",attrs:{header:"Price"}},[s("pre",{staticClass:"text-left"},[t._v(t._s(t.price))])])],1),s("b-col",{attrs:{cols:"4"}},[s("b-card",{staticClass:"mt-3 text-left",attrs:{header:"formDatas:"}},[s("pre",{staticClass:"text-left"},[t._v(t._s(t.formDatas))])])],1)],1):t._e()],1)},o=[],r=s("5530"),i=(s("a434"),s("f158")),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"nav-line"},t._l(t.idLevel,(function(e,a){return s("div",{key:a,staticClass:"w-100"},[s("b-button",{staticClass:"nav-line__nav",class:a==t.stepsIndex?"nav-line__nav--dark":"",attrs:{title:"Etape "+a,variant:"info",id:"tooltip-1"+a},on:{click:function(e){return t.loadSteps(a)}}}),s("b-tooltip",{attrs:{target:"tooltip-1"+a,triggers:"hover",variant:"info"}},[s("b",[t._v("etape "+t._s(a))]),t._v(" "),s("br"),s("div",[t._v(t._s(t.form.forms[a].info.title))])])],1)})),0)},l=[],c=(s("a9e3"),s("2f62")),d={props:{taille:{require:!0}},components:{},data:function(){return{value:1}},watch:{taille:function(){}},mounted:function(){var t=localStorage.getItem("step"),e=localStorage.getItem("id");null!==e&&t.length&&e==this.taille?this.$store.state.stepsIndex=Number(t):this.$store.state.stepsIndex=0},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(c["c"])(["stepsIndex"])),Object(c["b"])(["form"])),{},{idLevel:function(){var t=[];if(this.form.forms.length)for(var e in this.form.forms)t.push(e);return t}}),methods:{loadSteps:function(t){this.$store.state.stepsIndex=t,localStorage.setItem("step",t),localStorage.setItem("id",this.taille)}}},f=d,p=(s("3734"),s("2877")),u=Object(p["a"])(f,n,l,!1,null,null,null),m=u.exports,h=s("0b91"),b={components:{pages:h["a"],NavLine:m},props:{id:{type:String,required:!0}},data:function(){return{datasBd:[],stepsId:1,demo:!0,title:"",datasBase:{description:"",id:null,forms:"",name:""}}},watch:{stepsId:function(){this.datasBdOrLocalStorage()}},mounted:function(){this.$store.dispatch("setFormId",this.id)},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(c["c"])(["stepsIndex","allStepsDatas","fields","price","mode"])),Object(c["b"])(["form","formDatas"])),{},{currentSteps:function(){var t=localStorage.getItem("allo"),e=JSON.parse(t);return null!=e&&e.length?e[this.$store.state.stepsIndex]:this.formDatas},stepsDatas:function(){var t=this.datasBd;return this.datasBd.length?(console.log("object io",t[this.stepsId-1]),t[this.stepsId-1]):"vide"}}),methods:{deleteSteps:function(t){var e=this.$store.state.allStepsDatas,s=e.indexOf(this.formDatas);this.$emit("index-to-delete",s),console.log("de",t);for(var a=e.length-1;a>=0;a--)a===s&&(e.splice(a,1),console.log("iiippp"))},datasBdOrLocalStorage:function(){var t=localStorage.getItem("allo"),e=JSON.parse(t);if(console.log("loaaaa",e),"vide"!=this.stepsDatas){this.datasBase=this.stepsDatas,console.log("aaa",this.datasBase);var s=JSON.parse(this.datasBase.forms);this.$store.state.allStepsDatas=s,this.$store.state.formDatas=this.allStepsDatas[this.$store.state.stepsIndex]}else null!=e&&e.length?(console.log("appppaaa",e),this.$store.state.allStepsDatas=e,this.$store.state.formDatas=this.allStepsDatas[this.$store.state.stepsIndex]):"vide"==this.stepsDatas&&alert("Désolé nous n'avons pas pue accéder à la BD  et vous n'avez aucune données dans votre localStorage")},saveToLocal:function(){i["a"].prepareDatasToSave(this.form).then((function(t){i["a"].saveForm(t).then((function(){}))}))},back:function(){this.$store.state.stepsIndex--,this.$store.state.formDatas=this.allStepsDatas[this.$store.state.stepsIndex],this.$store.state.fields=this.$store.state.formDatas.fields[0],console.log("back")},suivant:function(){var t=localStorage.getItem("allo"),e=JSON.parse(t),s=this.$store.state.stepsIndex;e.length>=1&&s<e.length-1&&(console.log("local0",e.length),this.$store.state.stepsIndex++,this.$store.state.formDatas=this.allStepsDatas[this.$store.state.stepsIndex],this.$store.state.fields=this.$store.state.formDatas.fields[0]),console.log("base",this.currentSteps.length)},preview:function(){this.demo=!this.demo,console.log("prev",this.demo)},clearFormDatas:function(){var t={info:{headerTitle:"",title:"",name:""},fields:[]};this.form.forms.push(t),this.$store.state.stepsIndex=this.form.forms.length-1},resetValue:function(){this.$store.getters.formDatas.selected="",this.$store.getters.formDatas.value=[],console.log("prev")},resetModal:function(){},handleOk:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(t){var e=this;t.preventDefault(),this.demo=!0,this.$nextTick((function(){e.$bvModal.hide("modal-prevent-closing")}))}}},v=b,g=(s("3db8"),Object(p["a"])(v,a,o,!1,null,null,null));e["default"]=g.exports}}]);
//# sourceMappingURL=appForm.umd.min.4.js.map