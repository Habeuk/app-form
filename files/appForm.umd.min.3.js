(("undefined"!==typeof self?self:this)["webpackJsonpappForm"]=("undefined"!==typeof self?self:this)["webpackJsonpappForm"]||[]).push([[3],{"0931":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"accordion",attrs:{role:"tablist"}},[a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],attrs:{block:"",variant:"info"}},[t._v(" Configuration avancée ")])],1),a("b-collapse",{attrs:{id:"accordion-1",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("b-form-group",{attrs:{label:"Selectionner les elments de validation"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.ariaDescribedby;return[a("b-form-checkbox-group",{attrs:{options:t.options,"aria-describedby":i},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})]}}])})],1)],1)],1),a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2",modifiers:{"accordion-2":!0}}],attrs:{block:"",variant:"info"}},[t._v(" Condition d'affichage ")])],1),a("b-collapse",{attrs:{id:"accordion-2",accordion:"my-accordion",role:"tabpanel",visible:""}},[a("b-card-body",[a("div",{staticClass:"mb-3"},[a("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:t.addCondition}},[t._v(" + Ajouter une condition ")])],1),t._l(t.field.states,(function(e,i){return a("div",{key:i,staticClass:"border pt-3 pl-0 pr-0 mb-3 bg-light"},[a("div",{staticClass:"d-flex w-100 align-items-center"},[a("div",{staticClass:"svg-content px-2"},[a("b-button",{staticClass:"m-0 p-0",attrs:{variant:"transparent"}},[a("b-icon",{attrs:{icon:"arrows-move"}})],1)],1),a("div",{staticClass:"content-action"},[a("b-form-group",{attrs:{label:"Action","label-for":"input-lazy","label-size":"sm","label-cols":"4"}},[a("b-form-select",{attrs:{options:t.optionsAction,size:"sm"},model:{value:e.action,callback:function(a){t.$set(e,"action",a)},expression:"condition.action"}})],1),a("b-form-group",{attrs:{label:"si le champs","label-for":"input-lazy","label-size":"sm","label-cols":"4"}},[a("b-form-select",{attrs:{options:t.listeChamps,size:"sm"},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"condition.name"}})],1),a("b-form-group",{attrs:{label:"est","label-for":"input-lazy","label-size":"sm","label-cols":"4"}},[a("b-form-select",{attrs:{options:t.listsOperators,size:"sm"},model:{value:e.operator,callback:function(a){t.$set(e,"operator",a)},expression:"condition.operator"}})],1)],1),a("div",{staticClass:"svg-content"},[a("b-button",{staticClass:"m-0 p-0",attrs:{variant:"transparent"},on:{click:function(e){return t.deleteState(i)}}},[a("b-icon",{staticClass:"px-2",attrs:{icon:"trash",variant:"danger"}})],1)],1)])])}))],2)],1)],1)],1)},s=[],o=a("5530"),n=(a("a15b"),a("b0c0"),a("caad"),a("ac1f"),a("1276"),a("a434"),a("e412")),l=a("2f62"),r={name:"ValidationFields",props:{field:{type:Object,required:!0,validator:function(t){return void 0!==t.require&&void 0!==t.states}}},components:{},data:function(){return{options:[{text:"Le champs est requis",value:"required"},{text:"Le champ ne peut contenir que des caractères alphabétiques.",value:"alpha"},{text:"Le champ doit être un email valide.",value:"email"},{text:"Le champ doit être une valeur numerique",value:"numeric"}],selected:[],listsOperators:n["a"].listsOperators(),optionsAction:n["a"].Action()}},mounted:function(){this.retriveRules()},watch:{selected:function(){this.field.require=this.selected.join("|")}},computed:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["formDatas"])),{},{listeChamps:function(){var t=["text","number"],e=[];if(this.formDatas&&this.formDatas.fields.length>1)for(var a in this.formDatas.fields){var i=this.formDatas.fields[a];i.name!==this.field.name&&t.includes(i.type)&&e.push({text:i.label,value:i.name})}return e}}),methods:{retriveRules:function(){this.field.require&&(this.selected=this.field.require.split("|"))},addCondition:function(){this.field.states.push(n["a"].conditions())},deleteState:function(t){console.log("i : ",t),this.field.states.splice(t,1)}}},u=r,c=(a("4e9e"),a("2877")),d=Object(c["a"])(u,i,s,!1,null,"6d36102e",null);e["a"]=d.exports},"2c10":function(t,e,a){"use strict";a("d3b7"),a("e6cf"),a("a4d3"),a("e01a"),a("b0c0");var i={saveSteps:function(t){return new Promise((function(e){var a="";t.forms&&(a=JSON.stringify(t.forms));var i=[];if(""!=t){var s={table:"appformmanager_fomrs",fields:{forms:a,description:t.description,name:t.name},action:"update"};t.id&&(s.where=[{column:"id",value:t.id}]),i.push(s)}e(i)}))},field:function(){return{type:"",title:"",label:"",name:"",value:null,imgUrl:"",require:"",options:[],states:[]}},resetField:function(t){var e=this.field();for(var a in t)t[a]=e[a]}};e["a"]=i},3734:function(t,e,a){"use strict";a("54f5")},"3db8":function(t,e,a){"use strict";a("b1ee")},"4e9e":function(t,e,a){"use strict";a("e07c")},"54f5":function(t,e,a){},6416:function(t,e,a){t.exports=a.p+"img/long-arrow-alt-left-solid.d9d4427b.svg"},"910d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" "+t._s(t.img_url)+" "),t.img_url_format?a("div",{staticStyle:{width:"100px"}},[a("img",{staticClass:"img-fluid",attrs:{src:"img_url_format"}})]):t._e(),t.img_url_format?t._e():a("UploadImages",{staticClass:"mb-3",attrs:{max:t.max,uploadMsg:"Selectionner l'image"},on:{change:t.handleImages}})],1)},s=[],o=(a("a9e3"),a("a76e")),n=a("3cfa"),l=a("f158"),r={name:"manage-images",props:{max:{type:Number,default:10},url:{type:String,default:"/filesmanager/post"},img_url:{type:String}},components:{UploadImages:n["a"]},data:function(){return{}},mounted:function(){console.log("img_url : ",this.img_url)},watch:{},computed:{img_url_format:function(){return this.img_url&&void 0!==this.img_url?l["a"].baseURl+this.img_url:null}},methods:{handleImages:function(t){var e=this;for(var a in t)o["a"].postFile(l["a"].baseURl+this.url,t[a]).then((function(t){e.$emit("ev_manage_images_img",t)})).catch((function(t){console.log("Error : ",t)}))}}},u=r,c=a("2877"),d=Object(c["a"])(u,i,s,!1,null,"310d4989",null);e["a"]=d.exports},a76e:function(t,e,a){"use strict";a.d(e,"a",(function(){return g})),a.d(e,"b",(function(){return $}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-button",{attrs:{variant:"outline-success",size:"sm"},on:{click:t.onSubmit}},[a("span",[t._v(t._s(t.texte))]),t.running?a("b-icon",{staticClass:"ml-2",attrs:{icon:"arrow-clockwise",animation:"spin-pulse"}}):t._e()],1)],1)},s=[],o={name:"ButtonSave",props:{running:{type:Boolean,required:!0},texte:{type:String,default:"Enregistrer"}},components:{},data:function(){return{}},mounted:function(){},watch:{},computed:{},methods:{onSubmit:function(){this.$emit("ev-click")}}},n=o,l=a("2877"),r=Object(l["a"])(n,i,s,!1,null,"29246a2e",null),u=(r.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:t.DeleteFile}},[a("span",[t._v(" "+t._s(t.texte)+" ")]),t.running?a("b-icon",{staticClass:"ml-2",attrs:{icon:"arrow-clockwise",animation:"spin-pulse"}}):t._e()],1)],1)}),c=[],d={name:"ButtonDelete",props:{running:{type:Boolean,required:!0},texte:{type:String,default:"Supprimer"}},components:{},data:function(){return{}},mounted:function(){},watch:{},computed:{},methods:{DeleteFile:function(){this.$emit("ev-click")}}},p=d,f=Object(l["a"])(p,u,c,!1,null,"0b82f270",null),b=(f.exports,a("c26d"),a("a9ce"),a("9a6c"),a("7973"),a("47d8"),a("bc3a")),m=a.n(b),h=m.a.create({timeout:5e3}),v={axiosInstance:h,post:function(t,e,a){return new Promise((function(i,s){h.post(t,e,a).then((function(t){i({status:!0,data:t.data,reponse:t})})).catch((function(t){s({status:!1,error:t.response,code:t.code,stack:t.stack})}))}))},get:function(t,e){return new Promise((function(a,i){h.get(t,e).then((function(t){a({status:!0,data:t.data,reponse:t})})).catch((function(t){i({status:!1,error:t.response,code:t.code,stack:t.stack})}))}))},postFile:function(t,e){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(s,o){a.getBase64(e).then((function(a){var n=new Headers;console.log("headers : ",n);var l=e.name.split("."),r={method:"POST",headers:n,body:JSON.stringify({upload:a.base64,filename:l[0],ext:l[1],id:i}),cache:"default"};fetch(t,r).then((function(t){t.json().then((function(t){s(t)})).catch((function(t){o(t)}))}))}))}))},getBase64:function(t){return new Promise((function(e,a){var i=new FileReader;i.readAsDataURL(t),i.onloadend=function(){var t=i.result.split(",");e({src:i.result,base64:t[1]})},i.onerror=function(t){return a(t)}}))}},g=v,y=a("5530"),O=a("8bbf"),x=a.n(O),_=a("0ae9");x.a.use(_["a"]);var k=new x.a,C=Object(y["a"])(Object(y["a"])({},g),{},{$bvToast:k.$bvToast,notification:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";this.$bvToast.toast(" ",{title:t,variant:e,solid:!0,toaster:"b-toaster-top-right"})},post:function(t,e,a){var i=this,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return new Promise((function(o,n){g.post(t,e,a).then((function(t){s&&i.notification("success"),o(t)})).catch((function(t){i.notification(i.GetErrorTitle(t),"warning"),n(t)}))}))},get:function(t,e){var a=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(s,o){g.post(t,e).then((function(t){i&&a.notification("success"),s(t)})).catch((function(t){a.notification(a.GetErrorTitle(t),"warning"),o(t)}))}))},GetErrorTitle:function(t){var e;if(t.code)switch(t.code){case"ECONNABORTED":var a=this.axiosInstance.defaults.timeout/1e3+"s";e="Impossible de joindre l'hote distant, temps impartie epuisé. ("+a+")";break;default:e="Une erreur s'est produite"}else t.error&&t.error.statusText&&(e=decodeURI(t.error.statusText));return e}}),$=C},b1ee:function(t,e,a){},ca0f:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-container",{staticClass:"bv-example-row bg-light p-5",attrs:{fluid:"lg"}},[a("div",[a("h5",{staticClass:"titre mb-3 shadow-sm p-2"},[t._v(" Edition du formulaire: "),a("span",{staticClass:"form-title"},[t._v(t._s(t.form.name))])])]),a("b-row",{attrs:{"align-h":"center"}},[a("transition",{attrs:{name:"fade"}},[t.formDatas&&t.formDatas.info?a("b-col",{attrs:{cols:"12",lg:"9"}},[a("nav-line"),a("pages",{attrs:{level:t.stepsIndex}})],1):t._e()],1),t.$store.state.mode?a("b-col",{},[a("div",[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent-closing",modifiers:{"modal-prevent-closing":!0}}],staticClass:"shadow-sm",attrs:{variant:"light"}},[t._v(" Configuration ")]),a("b-button",{staticClass:"m-4",attrs:{variant:"info",size:"sm"},on:{click:t.clearFormDatas}},[t._v(" Add new Steps ")]),a("b-button",{staticClass:"m-4",attrs:{variant:"success",size:"sm"},on:{click:t.saveToLocal}},[t._v(" Save ")]),a("b-button",{staticClass:"m-4",attrs:{variant:"danger",size:"sm"},on:{click:t.clearStorage}},[t._v(" clear storage ")]),a("b-button",{staticClass:"m-4",attrs:{size:"sm",variant:"light"},on:{click:t.resetValue}},[t._v(" Reset value ")]),a("b-modal",{ref:"modal",attrs:{id:"modal-prevent-closing",title:"Create your form page","hide-footer":""},on:{show:t.resetModal,hidden:t.resetModal,ok:t.handleOk}},[t.formDatas&&t.formDatas.info?a("form",{ref:"form",on:{submit:t.handleSubmit,reset:t.resetModal}},[a("b-row",[a("b-col",{attrs:{cols:"8"}},[a("b-form-group",{attrs:{label:"Header title","label-for":"header-title-input","invalid-feedback":"the header title is required"}},[a("b-form-input",{attrs:{id:"header-title-input",required:""},model:{value:t.formDatas.info.headerTitle,callback:function(e){t.$set(t.formDatas.info,"headerTitle",e)},expression:"formDatas.info.headerTitle"}})],1)],1),a("b-col",{attrs:{cols:"8"}},[a("b-form-group",{attrs:{label:"Title","label-for":"name-input","invalid-feedback":"title is required"}},[a("b-form-input",{attrs:{id:"name-input"},model:{value:t.formDatas.info.title,callback:function(e){t.$set(t.formDatas.info,"title",e)},expression:"formDatas.info.title"}})],1)],1),a("b-col",{attrs:{cols:"8"}},[a("hr"),a("label",{attrs:{for:""}},[t._v("datas for datasBase")]),a("b-form-group",{attrs:{label:"name","label-for":"name-input"}},[a("b-form-input",{attrs:{id:"db-input",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),a("b-col",{attrs:{cols:"8"}},[a("b-form-group",{attrs:{label:"Id","label-for":"description-input"}},[a("b-form-input",{attrs:{id:"desc-input-id"},model:{value:t.form.id,callback:function(e){t.$set(t.form,"id",e)},expression:"form.id"}})],1)],1),a("b-col",{attrs:{cols:"8"}},[a("b-form-group",{attrs:{label:"Description","label-for":"description-input"}},[a("b-form-textarea",{attrs:{id:"desc-input",required:""},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1)],1),a("b-button",{staticClass:"shadow-sm",attrs:{size:"sm",variant:"light"}},[t._v(" Generate JSON ")]),a("b-button",{staticClass:"mx-3",attrs:{type:"reset",variant:"danger",size:"sm"}},[t._v(" Reset ")]),a("hr",{staticClass:"my-3"}),a("b-row",{attrs:{"align-h":"end"}},[a("div",{staticClass:"mr-3"},[a("b-button",{staticClass:"mr-2",attrs:{type:"submit"}},[t._v("cancel")]),a("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"primary"}},[t._v("ok")])],1)])],1):t._e()])],1)]):t._e()],1)],1),this.$store.state.mode?a("b-row",{staticClass:"m-0"},[a("b-col",{attrs:{cols:"4"}},[a("b-card",{staticClass:"mt-3 text-left d-none",attrs:{header:"Form Data Result"}},[a("pre",{staticClass:"m-0"}),a("p",[t._v("formulaire Generale")]),a("pre",{staticClass:"text-left"},[t._v(t._s(t.form))])])],1),a("b-col",{attrs:{cols:"4"}},[a("b-card",{staticClass:"mt-3 text-left",attrs:{header:"Form all steps"}},[a("pre",{staticClass:"m-0 text-left"}),a("p",[t._v("formDatas:.")]),a("pre",{staticClass:"text-left"},[t._v(t._s(t.formDatas))])])],1),a("b-col",{attrs:{cols:"4"}},[a("b-card",{staticClass:"mt-3 text-left",attrs:{header:"Form all steps"}},[a("pre",{staticClass:"m-0"}),a("p",[t._v("fields:.")]),a("pre",{staticClass:"text-left"},[t._v(t._s(t.fields))])])],1)],1):t._e()],1)},s=[],o=a("5530"),n=(a("a434"),a("bc3a")),l=a.n(n),r=a("2c10"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav-line"},t._l(t.idLevel,(function(e,i){return a("div",{key:i,staticClass:"w-100"},[a("b-button",{staticClass:"nav-line__nav",class:i==t.stepsIndex?"nav-line__nav--dark":"",attrs:{title:"Etape "+i,variant:"info",id:"tooltip-1"+i},on:{click:function(e){return t.loadSteps(i)}}}),a("b-tooltip",{attrs:{target:"tooltip-1"+i,triggers:"hover",variant:"info"}},[a("b",[t._v("etape "+t._s(i))]),t._v(" "),a("br"),a("div",[t._v(t._s(t.form.forms[i].info.title))])])],1)})),0)},c=[],d=(a("a9e3"),a("2f62")),p={props:{},components:{},data:function(){return{value:1}},watch:{},mounted:function(){var t=localStorage.getItem("step");console.log("object,",t),null!==t&&t.length&&(this.$store.state.stepsIndex=Number(t))},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(d["c"])(["stepsIndex"])),Object(d["b"])(["form"])),{},{idLevel:function(){var t=[];if(this.form.forms.length)for(var e in this.form.forms)t.push(e);return t}}),methods:{loadSteps:function(t){this.$store.state.stepsIndex=t,console.log("object,",t),localStorage.setItem("step",t)}}},f=p,b=(a("3734"),a("2877")),m=Object(b["a"])(f,u,c,!1,null,null,null),h=m.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"element-center full-block shadow"},[i("div",{staticClass:"choice-section text-right"},[i("b-row",{attrs:{"align-h":"end"}},[i("b-col",[i("p",{staticClass:"button-travaux"},[t._v(t._s(t.formDatas.info.headerTitle))])])],1),t.mode?i("b-button-group",{staticClass:"boutton-absolute"},[i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-info",modifiers:{hover:!0,"v-info":!0}}],attrs:{variant:"outline-info",size:"sm",title:"Ajouter un champs"},on:{click:t.addFormField}},[i("b-icon",{staticStyle:{"font-size":"1.5rem"},attrs:{icon:"plus"}})],1),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-success",modifiers:{hover:!0,"v-success":!0}}],attrs:{variant:"outline-success",size:"sm",title:"Editer le formulaire"},on:{click:t.configSteps}},[i("b-icon",{attrs:{icon:"pencil"}})],1),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-danger",modifiers:{hover:!0,"v-danger":!0}}],attrs:{variant:"outline-danger",size:"sm",title:"Suprimer le formulaire"},on:{click:t.deleteSteps}},[i("b-icon",{attrs:{icon:"trash"}})],1)],1):t._e()],1),i("ValidationObserver",{staticClass:"center-container",scopedSlots:t._u([{key:"default",fn:function(e){return[i("b-row",{staticClass:"block-container",attrs:{"align-h":"center"}},[t.level>0?i("b-col",{staticClass:"text-left",attrs:{cols:"12"}},[i("div",{staticClass:"backButton",on:{click:t.back}},[i("img",{attrs:{src:a("6416"),alt:""}})])]):t._e(),t._l(t.formDatas.fields,(function(t,e){return i("div",{key:e,staticClass:"col-12 p-0 mb-5"},[i("display-fields",{attrs:{type:t.type,id:e}})],1)})),i("b-col",{staticClass:"form-nav-bouton",attrs:{cols:"12"}},[i("button",{staticClass:"next-bouton",class:t.stepsState&&!e.invalid?"next-bouton--active":"next-bouton--disable",on:{click:t.suivant}},[t._v(" Suivant ")])])],2),i("getStatusValidation",{attrs:{"validation-observer":e}})]}}])}),t.mode?i("div",[i("add-form-field",{ref:"formField",attrs:{isOpen:t.modalFormFieldIsOpen,nouveau:!0}}),i("StepConfiguration",{ref:"StepConfiguration"})],1):t._e(),i("pre",[t._v("    stepsIndexs :\n    "+t._s(t.stepsIndexs)+"\n  ")])],1)},g=[],y=(a("e260"),a("d3b7"),a("e6cf"),a("3ca3"),a("ddb0"),a("7bb1")),O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"choice-section min-height"},[a("div",[a("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},["codepostal"==t.type?a("b-row",{attrs:{"align-h":"center"}},[a("b-col",{staticClass:"autocomplete"},[a("autocomplete",{attrs:{value:t.formDatas.fields[t.id]}})],1)],1):t._e(),"checkboximg"==t.type?a("ImageCheck",{attrs:{field:t.formDatas.fields[t.id]}}):t._e(),"text"==t.type||"number"==t.type?a("label-row",{attrs:{field:t.formDatas.fields[t.id]}}):t._e(),"numberup"==t.type?a("label-up",{attrs:{field:t.formDatas.fields[t.id]}}):t._e(),"increment"==t.type?a("b-row",{attrs:{"align-h":"center"}},[a("increment-number",{attrs:{id:t.id}})],1):t._e(),"markuptitle"==t.type?a("markup-title",{attrs:{field:t.formDatas.fields[t.id]}}):t._e(),"markupimage"==t.type?a("markup-image",{attrs:{field:t.formDatas.fields[t.id]}}):t._e(),"radio"==t.type?a("radio",{attrs:{field:t.formDatas.fields[t.id]}}):t._e(),"input"==t.type?a("InputText",{attrs:{field:t.formDatas.fields[t.id]}}):t._e(),"select"==t.type?a("select-display",{attrs:{field:t.formDatas.fields[t.id]}}):t._e(),"checkbox"==t.type?a("checkbox",{attrs:{field:t.formDatas.fields[t.id]}}):t._e(),"radiodesc"==t.type?a("radio-desc",{attrs:{id:t.id}}):t._e()],1),this.$store.state.mode?a("div",{staticClass:"boutton-absolute d-flex"},[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-success",modifiers:{hover:!0,"v-success":!0}}],staticClass:"border-0",attrs:{size:"sm",variant:"outline-success",title:"Editer ce champs"},on:{click:t.editFormField}},[a("b-icon",{attrs:{icon:"pencil","font-scale":"1"}})],1),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-danger",modifiers:{hover:!0,"v-danger":!0}}],staticClass:"border-0",attrs:{size:"sm",variant:"outline-danger",title:"Supprimer ce champs"},on:{click:t.deleteField}},[a("b-icon",{attrs:{icon:"trash","font-scale":"1"}})],1)],1):t._e()]),a("add-form-field",{ref:"editFormField",attrs:{isOpen:t.isOpen,fields:t.fields,nouveau:!1}})],1)},x=[],_=a("cfb1"),k={components:{ImageCheck:function(){return a.e(4).then(a.bind(null,"820b"))},IncrementNumber:function(){return a.e(11).then(a.bind(null,"09b3"))},AddFormField:_["default"],InputText:function(){return a.e(6).then(a.bind(null,"cbcf"))},autocomplete:function(){return Promise.all([a.e(8),a.e(17)]).then(a.bind(null,"c5fb"))},Radio:function(){return a.e(15).then(a.bind(null,"8bfb"))},RadioDesc:function(){return a.e(22).then(a.bind(null,"795e"))},Checkbox:function(){return a.e(14).then(a.bind(null,"7f81"))},LabelRow:function(){return a.e(5).then(a.bind(null,"ab64"))},SelectDisplay:function(){return a.e(16).then(a.bind(null,"1d25"))},MarkupTitle:function(){return a.e(13).then(a.bind(null,"725b"))},MarkupImage:function(){return a.e(12).then(a.bind(null,"1c8e"))},LabelUp:function(){return a.e(7).then(a.bind(null,"cc4c"))}},props:{type:{type:String,default:""},id:{type:Number,default:null}},data:function(){return{isOpen:!1,typeFieldSelected:null,option:{},fields:r["a"].field(),labelState:null}},watch:{},computed:Object(o["a"])({},Object(d["b"])(["formDatas"])),methods:{getImage:function(t){var e=this.formDatas.fields[this.id].options;console.log("le",e);for(var a=0;a<e.length;a++)a==t?(e[a].isActive=!e[a].isActive,this.formDatas.fields[this.id].value=e[a].value):e[a].isActive=!1},editFormField:function(){this.$refs.editFormField.openAddFormFieldPopUp(),this.fields=this.formDatas.fields[this.id]},deleteField:function(){for(var t=this.formDatas.fields,e=t.length-1;e>=0;e--)e===this.id&&(t.splice(e,1),console.log("iiippp"))},resetModal:function(){},handleOk:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(t){var e=this;t.preventDefault(),this.isOpen=!this.isOpen,this.$emit("input_to_add",this.fields),this.$nextTick((function(){e.$bvModal.hide("modal-prevent-closing")}))}}},C=k,$=Object(b["a"])(C,O,x,!1,null,null,null),D=$.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{object:t.validationObserverField}},[a("pre",{staticClass:"text-left d-none"},[t._v(t._s(t.formDatasValidate))])])},w=[],V={name:"getStatusValidation",props:{validationObserver:{type:Object,required:!0}},components:{},data:function(){return{}},mounted:function(){},watch:{},computed:Object(o["a"])(Object(o["a"])({},Object(d["c"])(["formDatasValidate"])),{},{validationObserverField:function(){return this.validationObserver.fields?(this.setFormDatasValidate(),this.validationObserver.fields):{}}}),methods:{setFormDatasValidate:function(){this.$store.dispatch("setFormDatasValidate",this.validationObserver.fields)}}},j=V,F=Object(b["a"])(j,S,w,!1,null,"d99bc1b4",null),R=F.exports,q={components:{DisplayFields:D,ValidationObserver:y["a"],getStatusValidation:R,AddFormField:function(){return Promise.resolve().then(a.bind(null,"cfb1"))},StepConfiguration:function(){return a.e(10).then(a.bind(null,"e248"))}},props:{level:{type:Number,default:0}},data:function(){return{modalFormFieldIsOpen:!1,inputDatas:[],selected:"",options:[{text:"chamblie",value:"a"},{text:"callakala",value:"b"}],imageCheck:[{isActive:!1,description:"1 côté"},{isActive:!1,description:"2 côté"},{isActive:!1,description:"3 côté"},{isActive:!1,description:"4 côté"}]}},mounted:function(){},watch:{fields:function(){console.log("changement")}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(d["c"])(["mode","stepsIndex","stepsIndexs"])),Object(d["b"])(["formDatas","form"])),{},{stepsState:function(){var t=null;return this.$store.getters.form.forms.length-1>this.level&&(t=!0),console.log(" StepsState : "),t},taille:function(){return!!this.fields.options.length}}),methods:{suivant:function(){this.stepsState&&this.$store.dispatch("stepsIndex",this.stepsIndex)},back:function(){this.$store.dispatch("stepsBack")},deleteSteps:function(){for(var t=this.$store.getters.form.forms,e=t.indexOf(this.formDatas),a=t.length-1;a>=0;a--)a===e&&(t.splice(a,1),console.log("iiippp"))},addFormField:function(){this.$refs.formField.openAddFormFieldPopUp()},configSteps:function(){this.$refs.StepConfiguration.openPopUp()},getImage:function(t){for(var e=0;e<this.imageCheck.length;e++)this.imageCheck[e].isActive=e==t&&!this.imageCheck[e].isActive}}},I=q,T=(a("dee4"),Object(b["a"])(I,v,g,!1,null,null,null)),A=T.exports,E={components:{pages:A,NavLine:h},props:{id:{type:String,required:!0}},data:function(){return{datasBd:[],stepsId:1,demo:!0,title:"",datasBase:{description:"",id:null,forms:"",name:""}}},watch:{stepsId:function(){this.datasBdOrLocalStorage()}},mounted:function(){this.$store.dispatch("setFormId",this.id)},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(d["c"])(["stepsIndex","year","month","day","allStepsDatas","fields"])),Object(d["b"])(["form","formDatas"])),{},{currentSteps:function(){var t=localStorage.getItem("allo"),e=JSON.parse(t);return null!=e&&e.length?e[this.$store.state.stepsIndex]:this.formDatas},stepsDatas:function(){var t=this.datasBd;return this.datasBd.length?(console.log("object io",t[this.stepsId-1]),t[this.stepsId-1]):"vide"}}),methods:{deleteSteps:function(t){var e=this.$store.state.allStepsDatas,a=e.indexOf(this.formDatas);this.$emit("index-to-delete",a),console.log("de",t);for(var i=e.length-1;i>=0;i--)i===a&&(e.splice(i,1),console.log("iiippp"))},datasBdOrLocalStorage:function(){var t=localStorage.getItem("allo"),e=JSON.parse(t);if(console.log("loaaaa",e),"vide"!=this.stepsDatas){this.datasBase=this.stepsDatas,console.log("aaa",this.datasBase);var a=JSON.parse(this.datasBase.forms);this.$store.state.allStepsDatas=a,this.$store.state.formDatas=this.allStepsDatas[this.$store.state.stepsIndex]}else null!=e&&e.length?(console.log("appppaaa",e),this.$store.state.allStepsDatas=e,this.$store.state.formDatas=this.allStepsDatas[this.$store.state.stepsIndex]):"vide"==this.stepsDatas&&alert("Désolé nous n'avons pas pue accéder à la BD  et vous n'avez aucune données dans votre localStorage")},saveToLocal:function(){var t=this,e=this.form;r["a"].saveSteps(e).then((function(e){var a=JSON.stringify(e[0].fields);localStorage.setItem("allo",JSON.stringify(a)),console.log("savesteps: ",e),l.a.post("http://lesroisdelareno.kksa/query-ajax/insert-update",e).then((function(e){console.log("post response ",e),t.$store.dispatch("setFormId",t.id)})).catch((function(t){console.log(t)}))}))},loadStepsDatas:function(){var t=this,e="select * from `appformmanager_fomrs`";l.a.post("http://lesroisdelareno.kksa/query-ajax/select",e).then((function(e){console.log("get reponse: ",e),e.data&&(t.datasBd=e.data,console.log("gee: ",t.datasBd),t.datasBdOrLocalStorage())})).catch((function(t){console.log("get error ",t)}))},clearStorage:function(){localStorage.clear()},back:function(){this.$store.state.stepsIndex--,this.$store.state.formDatas=this.allStepsDatas[this.$store.state.stepsIndex],this.$store.state.fields=this.$store.state.formDatas.fields[0],console.log("back")},preview:function(){this.demo=!this.demo,console.log("prev",this.demo)},clearFormDatas:function(){var t={info:{headerTitle:"",title:"",name:""},fields:[]};this.form.forms.push(t),this.$store.state.stepsIndex=this.form.forms.length-1},resetValue:function(){this.$store.getters.formDatas.selected="",this.$store.getters.formDatas.value=[],console.log("prev")},resetModal:function(){},handleOk:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(t){var e=this;t.preventDefault(),this.demo=!0,this.$nextTick((function(){e.$bvModal.hide("modal-prevent-closing")}))}}},P=E,z=(a("3db8"),Object(b["a"])(P,i,s,!1,null,null,null));e["default"]=z.exports},cfb1:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{ref:"addForm",attrs:{size:"lg",id:"modal-addForm",title:"Ajouter des champs dans la page","hide-footer":""},on:{ok:t.handleOk},model:{value:t.isOpen,callback:function(e){t.isOpen=e},expression:"isOpen"}},[a("form",{ref:"forme",on:{submit:t.handleSubmit,reset:t.resetModal,hidden:t.resetModal}},[a("b-row",[a("b-col",{attrs:{cols:"7"}},[a("b-form-group",{attrs:{label:"Sélectionner un type","label-for":"type-input","invalid-feedback":"type is required"}},[a("b-form-select",{attrs:{options:t.typeOptions,id:"type-input",required:""},model:{value:t.fields.type,callback:function(e){t.$set(t.fields,"type",e)},expression:"fields.type"}})],1)],1)],1),a("div",[a("input-option-form",{attrs:{type:t.fields.type,fields:t.fields}})],1),a("b-row",{attrs:{"align-h":"end"}},[a("div",{staticClass:"mr-3"},[a("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"primary"}},[t._v(t._s(t.nameButtonOk))])],1)])],1)])},s=[],o=a("d4ec"),n=a("5530"),l=a("2f62"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("hr"),"checkbox"==t.type?a("form-checkbox",{attrs:{fields:t.fields}}):t._e(),"text"==t.type||"number"==t.type?a("InputText",{attrs:{field:t.fields}}):t._e(),"select"==t.type?a("form-select",{attrs:{fields:t.fields}}):t._e(),"radiodesc"==t.type?a("form-radio-desc",{attrs:{fields:t.fields}}):t._e(),"radio"==t.type?a("form-radio",{attrs:{fields:t.fields}}):t._e(),"codepostal"==t.type?a("form-autocomplete",{attrs:{fields:t.fields}}):t._e(),"increment"==t.type?a("form-spinner",{attrs:{fields:t.fields}}):t._e(),"markuptitle"==t.type||"markupimage"==t.type?a("form-markup",{attrs:{fields:t.fields}}):t._e(),"checkboximg"==t.type?a("form-check-img",{attrs:{fields:t.fields}}):t._e(),"numberup"==t.type?a("form-number-up",{attrs:{fields:t.fields}}):t._e(),t._v(" fields: "),a("pre",[t._v(t._s(t.fields)+"--"+t._s(t.optionsToPush))])],1)},u=[],c=(a("e260"),a("d3b7"),a("e6cf"),a("3ca3"),a("ddb0"),a("a434"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"p-2"},[a("b-col",{attrs:{sm:"12"}},[a("b-form-group",{attrs:{label:"Label","invalid-feedback":"Name is required"}},[a("b-input-group",[a("b-form-input",{on:{input:t.input},model:{value:t.fields.label,callback:function(e){t.$set(t.fields,"label",e)},expression:"fields.label"}}),a("b-form-input",{attrs:{required:"",readonly:t.readonly},on:{dblclick:t.toogleReadOnly},model:{value:t.fields.name,callback:function(e){t.$set(t.fields,"name",e)},expression:"fields.name"}})],1)],1)],1),a("b-col",{attrs:{cols:"8"}},[a("b-form-group",{attrs:{label:"value"}},[a("b-form-select",{attrs:{multiple:"",options:t.fields.options,placeholder:"choose default value"},on:{input:t.ArrayValue},model:{value:t.arrayValue,callback:function(e){t.arrayValue=e},expression:"arrayValue"}})],1)],1),a("b-col",{attrs:{cols:"12"}},[a("label",[t._v("Options")]),a("b-form",{staticClass:"border p-3",on:{submit:t.onPush,reset:t.onReset}},[a("b-form-group",{attrs:{id:"option-label",label:"Option label","label-for":"input-option-label"}},[a("b-input-group",[a("b-form-input",{attrs:{id:"option-label",placeholder:"Enter label",required:""},on:{input:t.automaticValue},model:{value:t.inputOptions.text,callback:function(e){t.$set(t.inputOptions,"text",e)},expression:"inputOptions.text"}}),a("b-form-input",{attrs:{id:"option-val",placeholder:"Enter value of option",required:"",readonly:t.readonlyValue},on:{dblclick:t.toogleReadOnlyValue},model:{value:t.inputOptions.value,callback:function(e){t.$set(t.inputOptions,"value",e)},expression:"inputOptions.value"}})],1)],1),a("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"primary",size:"sm"}},[t._v(" Push ")]),a("b-button",{attrs:{type:"reset",variant:"danger",size:"sm"}},[t._v(" Reset ")])],1)],1),t.fields.options.length?a("b-col",[a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-option",modifiers:{"accordion-option":!0}}],attrs:{block:"",variant:"dark"}},[t._v("See options")])],1),a("b-collapse",{attrs:{id:"accordion-option",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",{staticClass:"p-2"},[a("option-table",{attrs:{options:t.fields.options}})],1)],1)],1)],1):t._e()],1),a("ValidationFields",{attrs:{field:t.fields}})],1)}),d=[],p=(a("b0c0"),a("a4d6")),f=a("0931"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-table",{attrs:{items:t.options,fields:t.fields,responsive:"","head-variant":"light",outlined:!0},scopedSlots:t._u([{key:"cell(action)",fn:function(e){return[e.detailsShowing?t._e():a("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:e.toggleDetails}},[t._v(" Edit ")])]}},{key:"row-details",fn:function(e){return[a("b-form",{staticClass:"px-3",on:{submit:t.onPush,reset:t.onReset}},[a("b-form-group",{attrs:{label:"label"}},[a("b-form-input",{attrs:{placeholder:"Enter label",required:""},on:{input:function(a){return t.automaticValue(e)}},model:{value:e.item.text,callback:function(a){t.$set(e.item,"text",a)},expression:"row.item.text"}})],1),a("b-form-group",{attrs:{label:"Option value"}},[a("b-form-input",{attrs:{placeholder:"Enter value of option",required:"",readonly:t.readonlyValue},on:{dblclick:t.toogleReadOnlyValue},model:{value:e.item.value,callback:function(a){t.$set(e.item,"value",a)},expression:"row.item.value"}})],1),t.desc?a("b-form-group",{attrs:{label:"Description"}},[a("b-form-input",{attrs:{placeholder:"Enter value of option",required:""},model:{value:e.item.description,callback:function(a){t.$set(e.item,"description",a)},expression:"row.item.description"}})],1):t._e(),a("b-button",{staticClass:"mx-2",attrs:{type:"reset",variant:"dark",size:"sm"}},[t._v("Reset")]),a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(a){return t.deleteOption(e.index)}}},[t._v("delete")]),a("b-button",{staticClass:"mx-2",attrs:{type:"submit",variant:"primary",size:"sm"},on:{click:function(a){e.item.value.length&&t.allo(e)}}},[t._v("ok")])],1)]}}])})],1)},m=[],h={name:"OptionsTable",props:{desc:{type:Boolean,default:!1},options:{type:Array,default:function(){return[]}}},components:{},data:function(){return{fieldSimple:[{label:"label",key:"text"},{label:"value",key:"value"},{label:"",key:"action"}],fieldDesc:[{label:"label",key:"text"},{label:"value",key:"value"},{label:"desc",key:"description"},{label:"",key:"action"}],readonlyValue:!0}},mounted:function(){},watch:{},computed:{fields:function(){return this.desc?this.fieldDesc:this.fieldSimple}},methods:{toogleReadOnlyValue:function(){this.readonlyValue?this.readonlyValue=!1:this.readonlyValue=!0},automaticValue:function(t){this.readonlyValue&&this.options[t.index].text.length<=50&&(this.options[t.index].value=Object(p["a"])(this.options[t.index].text))},ArrayValue:function(){this.arrayValue.length?this.fields.value=this.arrayValue:this.fields.value=[]},onPush:function(t){t.preventDefault()},onReset:function(t){t.preventDefault},allo:function(t){this.options[t.index]._showDetails=!1},deleteOption:function(t){var e=this.options;console.log("i",e,t);for(var a=e.length-1;a>=0;a--)a===t&&(e.splice(a,1),console.log("iii"))}}},v=h,g=a("2877"),y=Object(g["a"])(v,b,m,!1,null,"2dea5fc0",null),O=y.exports,x={props:{fields:{type:Object,required:!0,validator:function(t){return void 0!==t.label&&void 0!==t.value&&void 0!==t.name&&void 0!==t.require}}},components:{ValidationFields:f["a"],OptionTable:O},data:function(){return{value:1,arrayValue:[],readonly:!0,readonlyValue:!0,inputOptions:{text:"",value:""}}},watch:{},methods:{automaticValue:function(){this.readonlyValue&&this.inputOptions.text.length<=50&&(this.inputOptions.value=Object(p["a"])(this.inputOptions.text))},ArrayValue:function(){this.arrayValue.length?this.fields.value=this.arrayValue:this.fields.value=[]},input:function(){this.readonly&&this.fields.name.length<=32&&(this.fields.name=Object(p["a"])(this.fields.label))},toogleReadOnlyValue:function(){this.readonlyValue?this.readonlyValue=!1:this.readonlyValue=!0},toogleReadOnly:function(){this.readonly?this.readonly=!1:this.readonly=!0},deleteOption:function(t){var e=this.fields.options;console.log("i",e,t);for(var a=e.length-1;a>=0;a--)a===t&&(e.splice(a,1),console.log("iii"))},onPush:function(t){t.preventDefault(),this.pushOptions(t)},pushOptions:function(t){var e={};for(var a in this.inputOptions)e[a]=this.inputOptions[a];console.log("object",e),this.fields.options.push(e),this.onReset(t),this.inputOptions={text:"",value:""}},onReset:function(t){var e=this;t.preventDefault,this.show=!1,this.$nextTick((function(){e.show=!0}))}}},_=x,k=Object(g["a"])(_,c,d,!1,null,null,null),C=k.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"p-2"},[a("b-col",{attrs:{sm:"12"}},[a("b-form-group",{attrs:{label:"Label","invalid-feedback":"Name is required"}},[a("b-input-group",[a("b-form-input",{on:{input:t.input},model:{value:t.fields.label,callback:function(e){t.$set(t.fields,"label",e)},expression:"fields.label"}}),a("b-form-input",{attrs:{required:"",readonly:t.readonly},on:{dblclick:t.toogleReadOnly},model:{value:t.fields.name,callback:function(e){t.$set(t.fields,"name",e)},expression:"fields.name"}})],1)],1)],1),a("b-col",{attrs:{cols:"7"}},[a("b-form-group",{attrs:{label:"value"}},[a("b-form-select",{attrs:{options:t.fields.options,placeholder:"choose default value"},model:{value:t.fields.value,callback:function(e){t.$set(t.fields,"value",e)},expression:"fields.value"}})],1)],1),a("b-col",{attrs:{cols:"12"}},[a("label",[t._v("Options")]),a("b-form",{staticClass:"border p-3",on:{submit:t.onPush,reset:t.onReset}},[a("b-form-group",{attrs:{id:"option-label",label:"Option label","label-for":"input-option-label"}},[a("b-input-group",[a("b-form-input",{attrs:{id:"option-label",placeholder:"Enter label",required:""},on:{input:t.automaticValue},model:{value:t.inputOptions.text,callback:function(e){t.$set(t.inputOptions,"text",e)},expression:"inputOptions.text"}}),a("b-form-input",{attrs:{id:"option-val",placeholder:"Enter value of option",required:"",readonly:t.readonlyValue},on:{dblclick:t.toogleReadOnlyValue},model:{value:t.inputOptions.value,callback:function(e){t.$set(t.inputOptions,"value",e)},expression:"inputOptions.value"}})],1)],1),a("b-col",{attrs:{cols:"7"}},[a("b-form-group",{attrs:{label:"Description"}},[a("b-form-textarea",{attrs:{placeholder:"enter description of option"},model:{value:t.inputOptions.description,callback:function(e){t.$set(t.inputOptions,"description",e)},expression:"inputOptions.description"}})],1)],1),a("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"primary",size:"sm"}},[t._v("Push")]),a("b-button",{attrs:{type:"reset",variant:"danger",size:"sm"}},[t._v("Reset")])],1),a("div",{staticClass:"bg-light p-1"})],1),t.fields.options.length?a("b-col",[a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-option",modifiers:{"accordion-option":!0}}],attrs:{block:"",variant:"dark"}},[t._v("See options")])],1),a("b-collapse",{attrs:{id:"accordion-option",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",{staticClass:"p-2"},[a("option-table",{attrs:{desc:!0,options:t.fields.options}})],1)],1)],1)],1):t._e()],1),a("ValidationFields",{attrs:{field:t.fields}})],1)},D=[],S={props:{fields:{type:Object,required:!0,validator:function(t){return void 0!==t.label&&void 0!==t.value&&void 0!==t.name&&void 0!==t.require}}},components:{ValidationFields:f["a"],OptionTable:O},data:function(){return{value:1,arrayValue:[],readonlyValue:!0,readonly:!0,inputOptions:{text:"",value:""}}},watch:{},methods:{toogleReadOnlyValue:function(){this.readonlyValue?this.readonlyValue=!1:this.readonlyValue=!0},automaticValue:function(){this.readonlyValue&&this.inputOptions.text.length<=50&&(this.inputOptions.value=Object(p["a"])(this.inputOptions.text))},ArrayValue:function(){this.arrayValue.length?this.fields.value=this.arrayValue:this.fields.value=[]},input:function(){this.readonly&&this.fields.name.length<=32&&(this.fields.name=Object(p["a"])(this.fields.label))},toogleReadOnly:function(){this.readonly?this.readonly=!1:this.readonly=!0},deleteOption:function(t){var e=this.fields.options;console.log("i",e,t);for(var a=e.length-1;a>=0;a--)a===t&&(e.splice(a,1),console.log("iii"))},onPush:function(t){t.preventDefault(),this.pushOptions(t)},pushOptions:function(t){var e={};for(var a in this.inputOptions)e[a]=this.inputOptions[a];console.log("object",e),this.fields.options.push(e),this.onReset(t),this.inputOptions={text:"",value:""}},onReset:function(t){var e=this;t.preventDefault,this.show=!1,this.$nextTick((function(){e.show=!0}))}}},w=S,V=Object(g["a"])(w,$,D,!1,null,null,null),j=V.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"p-2"},[a("b-col",{attrs:{sm:"12"}},[a("b-form-group",{attrs:{label:"Label","invalid-feedback":"Name is required"}},[a("b-input-group",[a("b-form-input",{on:{input:t.input},model:{value:t.fields.label,callback:function(e){t.$set(t.fields,"label",e)},expression:"fields.label"}}),a("b-form-input",{attrs:{required:"",readonly:t.readonly},on:{dblclick:t.toogleReadOnly},model:{value:t.fields.name,callback:function(e){t.$set(t.fields,"name",e)},expression:"fields.name"}})],1)],1)],1),a("b-col",{attrs:{cols:"8"}},[a("b-form-group",{attrs:{label:"value"}},[a("b-form-select",{attrs:{multiple:"",options:t.fields.options,placeholder:"choose default value"},on:{input:t.ArrayValue},model:{value:t.arrayValue,callback:function(e){t.arrayValue=e},expression:"arrayValue"}})],1)],1),a("b-col",{attrs:{cols:"12"}},[a("label",[t._v("Options")]),a("b-form",{staticClass:"border p-3",on:{submit:t.onPush,reset:t.onReset}},[a("b-form-group",{attrs:{id:"option-label",label:"Option label","label-for":"input-option-label"}},[a("b-input-group",[a("b-form-input",{attrs:{id:"option-label",placeholder:"Enter label",required:""},on:{input:t.automaticValue},model:{value:t.inputOptions.text,callback:function(e){t.$set(t.inputOptions,"text",e)},expression:"inputOptions.text"}}),a("b-form-input",{attrs:{id:"option-val",placeholder:"Enter value of option",required:"",readonly:t.readonlyValue},on:{dblclick:t.toogleReadOnlyValue},model:{value:t.inputOptions.value,callback:function(e){t.$set(t.inputOptions,"value",e)},expression:"inputOptions.value"}})],1)],1),a("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"primary",size:"sm"}},[t._v("Push")]),a("b-button",{attrs:{type:"reset",variant:"danger",size:"sm"}},[t._v("Reset")])],1)],1),t.fields.options.length?a("b-col",[a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-option",modifiers:{"accordion-option":!0}}],attrs:{block:"",variant:"dark"}},[t._v("See options")])],1),a("b-collapse",{attrs:{id:"accordion-option",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",{staticClass:"p-2"},[a("option-table",{attrs:{options:t.fields.options}})],1)],1)],1)],1):t._e()],1),a("ValidationFields",{attrs:{field:t.fields}})],1)},R=[],q={props:{fields:{type:Object,required:!0,validator:function(t){return void 0!==t.label&&void 0!==t.value&&void 0!==t.name&&void 0!==t.require}}},components:{ValidationFields:f["a"],OptionTable:O},data:function(){return{value:1,arrayValue:[],readonly:!0,readonlyValue:!0,inputOptions:{text:"",value:""}}},watch:{},methods:{automaticValue:function(){this.readonlyValue&&this.inputOptions.text.length<=50&&(this.inputOptions.value=Object(p["a"])(this.inputOptions.text))},ArrayValue:function(){this.arrayValue.length?this.fields.value=this.arrayValue:this.fields.value=[]},input:function(){this.readonly&&this.fields.name.length<=32&&(this.fields.name=Object(p["a"])(this.fields.label))},toogleReadOnlyValue:function(){this.readonlyValue?this.readonlyValue=!1:this.readonlyValue=!0},toogleReadOnly:function(){this.readonly?this.readonly=!1:this.readonly=!0},deleteOption:function(t){var e=this.fields.options;console.log("i",e,t);for(var a=e.length-1;a>=0;a--)a===t&&(e.splice(a,1),console.log("iii"))},onPush:function(t){t.preventDefault(),this.pushOptions(t)},pushOptions:function(t){var e={};for(var a in this.inputOptions)e[a]=this.inputOptions[a];console.log("object",e),this.fields.options.push(e),this.onReset(t),this.inputOptions={text:"",value:""}},onReset:function(t){var e=this;t.preventDefault,this.show=!1,this.$nextTick((function(){e.show=!0}))}}},I=q,T=Object(g["a"])(I,F,R,!1,null,null,null),A=T.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"p-2"},[a("b-col",{attrs:{sm:"12"}},[a("b-form-group",{attrs:{label:"Label","invalid-feedback":"Name is required"}},[a("b-input-group",[a("b-form-input",{on:{input:t.input},model:{value:t.fields.label,callback:function(e){t.$set(t.fields,"label",e)},expression:"fields.label"}}),a("b-form-input",{attrs:{required:"",readonly:t.readonly},on:{dblclick:t.toogleReadOnly},model:{value:t.fields.name,callback:function(e){t.$set(t.fields,"name",e)},expression:"fields.name"}})],1)],1)],1),a("b-col",{attrs:{cols:"7"}},[a("b-form-group",{attrs:{label:"value"}},[a("b-form-select",{attrs:{options:t.fields.options,placeholder:"choose default value"},model:{value:t.fields.value,callback:function(e){t.$set(t.fields,"value",e)},expression:"fields.value"}})],1)],1),a("b-col",{attrs:{cols:"12"}},[a("label",[t._v("Options")]),a("b-form",{staticClass:"border p-3",on:{submit:t.onPush,reset:t.onReset}},[a("b-form-group",{attrs:{id:"option-label",label:"Option label","label-for":"input-option-label"}},[a("b-input-group",[a("b-form-input",{attrs:{id:"option-label",placeholder:"Enter label",required:""},on:{input:t.automaticValue},model:{value:t.inputOptions.text,callback:function(e){t.$set(t.inputOptions,"text",e)},expression:"inputOptions.text"}}),a("b-form-input",{attrs:{id:"option-val",placeholder:"Enter value of option",required:"",readonly:t.readonlyValue},on:{dblclick:t.toogleReadOnlyValue},model:{value:t.inputOptions.value,callback:function(e){t.$set(t.inputOptions,"value",e)},expression:"inputOptions.value"}})],1)],1),a("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"primary",size:"sm"}},[t._v("Push")]),a("b-button",{attrs:{type:"reset",variant:"danger",size:"sm"}},[t._v("Reset")])],1),a("div",{staticClass:"bg-light p-1"})],1),t.fields.options.length?a("b-col",[a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-option",modifiers:{"accordion-option":!0}}],attrs:{block:"",variant:"dark"}},[t._v("See options")])],1),a("b-collapse",{attrs:{id:"accordion-option",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",{staticClass:"p-2"},[a("option-table",{attrs:{options:t.fields.options}})],1)],1)],1)],1):t._e()],1),a("ValidationFields",{attrs:{field:t.fields}})],1)},P=[],z={props:{fields:{type:Object,required:!0,validator:function(t){return void 0!==t.label&&void 0!==t.value&&void 0!==t.name&&void 0!==t.require}}},components:{ValidationFields:f["a"],OptionTable:O},data:function(){return{value:1,arrayValue:[],readonlyValue:!0,readonly:!0,inputOptions:{text:"",value:""}}},watch:{},methods:{toogleReadOnlyValue:function(){this.readonlyValue?this.readonlyValue=!1:this.readonlyValue=!0},automaticValue:function(){this.readonlyValue&&this.inputOptions.text.length<=50&&(this.inputOptions.value=Object(p["a"])(this.inputOptions.text))},ArrayValue:function(){this.arrayValue.length?this.fields.value=this.arrayValue:this.fields.value=[]},input:function(){this.readonly&&this.fields.name.length<=32&&(this.fields.name=Object(p["a"])(this.fields.label))},toogleReadOnly:function(){this.readonly?this.readonly=!1:this.readonly=!0},deleteOption:function(t){var e=this.fields.options;console.log("i",e,t);for(var a=e.length-1;a>=0;a--)a===t&&(e.splice(a,1),console.log("iii"))},onPush:function(t){t.preventDefault(),this.pushOptions(t)},pushOptions:function(t){var e={};for(var a in this.inputOptions)e[a]=this.inputOptions[a];console.log("object",e),this.fields.options.push(e),this.onReset(t),this.inputOptions={text:"",value:""}},onReset:function(t){var e=this;t.preventDefault,this.show=!1,this.$nextTick((function(){e.show=!0}))}}},N=z,B=Object(g["a"])(N,E,P,!1,null,null,null),L=B.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-row",{staticClass:"p-2"},[a("b-col",{attrs:{sm:"12"}},[a("b-form-group",{attrs:{label:"Label","invalid-feedback":"Name is required"}},[a("b-input-group",[a("b-form-input",{on:{input:t.input},model:{value:t.fields.label,callback:function(e){t.$set(t.fields,"label",e)},expression:"fields.label"}}),a("b-form-input",{attrs:{required:"",readonly:t.readonly},on:{dblclick:t.toogleReadOnly},model:{value:t.fields.name,callback:function(e){t.$set(t.fields,"name",e)},expression:"fields.name"}})],1)],1)],1),a("b-col",{attrs:{cols:"12"}},[a("label",[t._v("Options")]),a("b-form",{staticClass:"border p-3",on:{submit:t.onPush,reset:t.onReset}},[a("b-form-group",{attrs:{label:"isActive?"}},[a("b-form-checkbox",{attrs:{value:!0,"unchecked-value":!1,required:""},model:{value:t.inputOptions.isActive,callback:function(e){t.$set(t.inputOptions,"isActive",e)},expression:"inputOptions.isActive"}})],1),a("b-form-group",{attrs:{label:"label","label-for":"input-option-label"}},[a("b-form-input",{attrs:{placeholder:"Enter label",required:""},model:{value:t.inputOptions.label,callback:function(e){t.$set(t.inputOptions,"label",e)},expression:"inputOptions.label"}})],1),a("b-form-group",{attrs:{id:"option-val",label:"value","label-for":"input-option-val"}},[a("b-form-input",{attrs:{id:"option-val",placeholder:"Enter value of option",required:""},model:{value:t.inputOptions.value,callback:function(e){t.$set(t.inputOptions,"value",e)},expression:"inputOptions.value"}})],1),a("manageImages",{on:{ev_manage_images_img:function(e){return t.ev_manage_images_img(e,t.inputOptions)}}}),a("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"primary",size:"sm"}},[t._v(" Push ")]),a("b-button",{attrs:{type:"reset",variant:"danger",size:"sm"}},[t._v(" Reset ")])],1),a("hr"),t._l(t.fields.options,(function(e,i){return a("b-form",{key:i,staticClass:"border p-3 mb-3 bg-light",on:{submit:t.onPush,reset:t.onReset}},[a("b-form-group",{attrs:{label:"isActive?","label-for":"require-input"}},[a("b-form-checkbox",{attrs:{id:"require-input"+i,value:!0,"unchecked-value":!1,required:""},model:{value:e.isActive,callback:function(a){t.$set(e,"isActive",a)},expression:"item.isActive"}})],1),a("b-form-group",{attrs:{id:"option-label"+i,label:"label","label-for":"input-option-label"}},[a("b-form-input",{attrs:{id:"option-label"+i,placeholder:"Enter label",required:""},model:{value:e.label,callback:function(a){t.$set(e,"label",a)},expression:"item.label"}})],1),a("b-form-group",{attrs:{id:"desc-img"+i,label:"description","label-for":"input-option-val"}},[a("b-form-input",{attrs:{id:"desc-img"+i,placeholder:"1 Côté",required:""},model:{value:e.description,callback:function(a){t.$set(e,"description",a)},expression:"item.description"}})],1),a("b-form-group",{attrs:{id:"option-val"+i,label:"value","label-for":"input-option-val"}},[a("b-form-input",{attrs:{id:"option-val"+i,placeholder:"Enter value of option",required:""},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})],1),a("manageImages",{attrs:{img_url:e.img},on:{ev_manage_images_img:function(a){return t.ev_manage_images_img(a,e)}}}),a("b-button",{attrs:{type:"submit",variant:"primary",size:"sm"}},[t._v("Push")]),a("b-button",{staticClass:"mx-2",attrs:{type:"reset",variant:"dark",size:"sm"}},[t._v(" Reset ")]),a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(e){return t.deleteOption(i)}}},[t._v("delete")])],1)})),a("b-card",{staticClass:"mt-3",attrs:{header:"Form Data Result"}},[a("pre",{staticClass:"m-0"},[t._v(t._s(t.inputOptions))])])],2),a("b-col",{attrs:{sm:"12"}},[a("ValidationFields",{attrs:{field:t.fields}})],1)],1)},U=[],J=a("910d"),G={props:{fields:{type:Object,require:!0}},components:{ValidationFields:f["a"],manageImages:J["a"]},data:function(){return{value:1,inputOptions:{label:"",value:"",img:"",description:"",isActive:!1},readonly:!0}},watch:{},methods:{deleteOption:function(t){var e=this.fields.options;console.log("i",e,t);for(var a=e.length-1;a>=0;a--)a===t&&(e.splice(a,1),console.log("iii"))},onPush:function(t){t.preventDefault(),this.pushOptions(t)},pushOptions:function(t){var e={};for(var a in this.inputOptions)e[a]=this.inputOptions[a];console.log("object",e),this.fields.options.push(e),this.onReset(t),this.inputOptions={label:"",value:""}},onReset:function(t){var e=this;t.preventDefault,this.show=!1,this.$nextTick((function(){e.show=!0}))},input:function(){this.readonly&&this.fields.name.length<=32&&(this.fields.name=Object(p["a"])(this.fields.label))},toogleReadOnly:function(){this.readonly?this.readonly=!1:this.readonly=!0},ev_manage_images_img:function(t,e){t.url&&(e.img=t.url)}}},H=G,K=Object(g["a"])(H,M,U,!1,null,null,null),Q=K.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"mb-3"},[a("b-col",{attrs:{sm:"12"}},[a("b-form-group",{attrs:{label:"Label"}},[a("b-input-group",[a("b-form-input",{attrs:{id:"label-up",required:""},on:{input:t.input},model:{value:t.fields.label,callback:function(e){t.$set(t.fields,"label",e)},expression:"fields.label"}}),a("b-form-input",{attrs:{required:"",readonly:t.readonly},on:{dblclick:t.toogleReadOnly},model:{value:t.fields.name,callback:function(e){t.$set(t.fields,"name",e)},expression:"fields.name"}})],1)],1)],1),a("b-col",{attrs:{sm:"12"}},[a("b-form-group",{attrs:{label:"Valeur par defaut"}},[a("b-form-input",{attrs:{type:"number"},model:{value:t.fields.value,callback:function(e){t.$set(t.fields,"value",e)},expression:"fields.value"}})],1)],1),a("b-col",{attrs:{sm:"6"}},[a("b-form-group",{attrs:{label:" suffixe"}},[a("b-input-group",[a("b-form-input",{attrs:{id:"suffixe"},model:{value:t.fields.suffixe,callback:function(e){t.$set(t.fields,"suffixe",e)},expression:"fields.suffixe"}})],1)],1)],1)],1),a("ValidationFields",{attrs:{field:t.fields}})],1)},X=[],Y=(a("a9e3"),{name:"FormMarkup",props:{fields:{type:Object,required:!0,validator:function(t){return void 0!==t.label&&void 0!==t.value&&void 0!==t.name&&void 0!==t.require}}},components:{ValidationFields:f["a"]},data:function(){return{readonly:!0,value:"",prefixe:"",suffixe:""}},mounted:function(){},watch:{},computed:{},methods:{inputValue:function(){if(this.value.length)return this.fields.value=Number(this.value)},input:function(){this.readonly&&this.fields.name.length<=32&&(this.fields.name=Object(p["a"])(this.fields.label))},toogleReadOnly:function(){this.readonly?this.readonly=!1:this.readonly=!0}}}),Z=Y,tt=Object(g["a"])(Z,W,X,!1,null,"777f013d",null),et=tt.exports,at=a("2c10"),it={components:{FormCheckbox:C,FormSelect:A,FormRadioDesc:j,FormRadio:L,FormCheckImg:Q,FormNumberUp:et,InputText:function(){return a.e(18).then(a.bind(null,"4790"))},FormSpinner:function(){return a.e(21).then(a.bind(null,"6174"))},FormAutocomplete:function(){return a.e(19).then(a.bind(null,"47e7"))},FormMarkup:function(){return a.e(20).then(a.bind(null,"3b12"))}},props:{type:{type:String,default:null},genre:{type:String,default:""},fields:{type:Object,default:function(){return at["a"].field()}}},data:function(){return{}},watch:{type:function(){this.fields.type=this.type}},computed:Object(n["a"])(Object(n["a"])({},Object(l["b"])(["formDatas"])),{},{optionsToPush:function(){var t=this.type;return"checkbox"==t?this.inputOptions:{}}}),methods:{deleteOption:function(t){var e=this.fields.options;console.log("i",e,t);for(var a=e.length-1;a>=0;a--)a===t&&(e.splice(a,1),console.log("iii"))},onPush:function(t){t.preventDefault(),this.pushOptions(t)},pushOptions:function(t){var e={};for(var a in this.optionsToPush)e[a]=this.optionsToPush[a];console.log("object",e),this.fields.options.push(e),this.onReset(t)},onReset:function(t){var e=this;for(var a in t.preventDefault,this.optionsToPush)this.optionsToPush[a]="",console.log("iss",this.optionsToPush[a]);this.show=!1,this.$nextTick((function(){e.show=!0}))}}},st=it,ot=Object(g["a"])(st,r,u,!1,null,null,null),nt=ot.exports,lt={components:{inputOptionForm:nt},props:{nouveau:{type:Boolean,require:!0,default:!0},fields:{type:Object,default:function(){return at["a"].field()}},genre:{type:String,default:""}},data:function(){return{isOpen:!1,typeFieldSelected:null,type:null,labelState:null,typeOptions:[{value:null,text:"Please select an option"},{value:"radio",text:"Radio"},{value:"text",text:"text"},{value:"select",text:"Select"},{value:"number",text:"Number"},{value:"checkbox",text:"Checkbox"},{value:"increment",text:"Spin Button"},{value:"markuptitle",text:"Markup Title"},{value:"markupimage",text:"Markup Image"},{value:"checkboximg",text:"Checkbox Image"},{value:"codepostal",text:"Code Postal input"},{value:"radiodesc",text:"Radio with Description"},{value:"numberup",text:"Number label up"}]}},watch:{},computed:Object(n["a"])(Object(n["a"])({},Object(l["b"])(["formDatas"])),{},{nameButtonOk:function(){return this.nouveau?"Ajouter":"Mettre à jour"}}),methods:{optionAddToFields:function(){var t=function t(e){Object(o["a"])(this,t),this.hauteur=e},e=new t(this.fields),a={};for(var i in e.hauteur)a[i]=e.hauteur[i];this.formDatas.fields.push(a),at["a"].resetField(this.fields)},openAddFormFieldPopUp:function(){this.isOpen=!this.isOpen},resetModal:function(){this.type=null},handleOk:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(t){var e=this;t.preventDefault(),this.isOpen=!this.isOpen,this.nouveau&&this.optionAddToFields(),this.$emit("input_to_add",this.fields),this.$nextTick((function(){e.$bvModal.hide("modal-prevent-closing")}))}}},rt=lt,ut=Object(g["a"])(rt,i,s,!1,null,null,null);e["default"]=ut.exports},dcff:function(t,e,a){},dee4:function(t,e,a){"use strict";a("dcff")},e07c:function(t,e,a){},e412:function(t,e,a){"use strict";a("b0c0");var i={conditions:function(){return{action:"",name:"",operator:"",value:"",state_name:""}},listsOperators:function(){return[{text:"Validé",value:"validated"},{text:"non vide",value:"not_empty"},{text:" vide",value:"empty"},{text:"la valeur du champs est egal à",value:"egal"}]},Action:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Ce champs";return[{text:t+" est visible",value:"visible"},{text:t+" est caché",value:"hidden"}]},computedValidation:function(t,e,a){for(var i in t.fields){var s=t.fields[i];if(s.name!==e.name)for(var o in e.states){var n=e.states[o];if(void 0===a[n.name])return!1;if(s.name===n.name&&"visible"===n.action){if(""===s.value&&"not_empty"===n.operator)return!1;if(""!==s.value&&"empty"===n.operator)return!1;if("validated"===n.operator&&a[s.name])return a[s.name].valid}}}},getFormStateByName:function(t,e){for(var a in e){var i=e[a];if(i.info.name===t)return i}}};e["a"]=i},f158:function(t,e,a){"use strict";a("caad"),a("2532");var i=a("a76e"),s=a("2c10"),o=a("104d"),n=a("8bbf"),l=a.n(n);l.a.use(o["a"]);var r=new l.a;i["b"].$bvToast=r.$bvToast,e["a"]={baseURl:window.location.host.includes("localhost")?"http://lesroisdelareno.kksa":window.location.host,saveForm:function(t){return i["b"].post(this.baseURl+"/query-ajax/insert-update",t,{})},prepareDatasToSave:function(t){return s["a"].saveSteps(t)}}}}]);
//# sourceMappingURL=appForm.umd.min.3.js.map